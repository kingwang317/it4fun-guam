<?php/*麵包屑產生程式Mr.King*/class Breadcrumb{   var $output;   var $crumbs = array();   var $location;   function Breadcrumb(){           if (isset($_SESSION['breadcrumb'])){         $this->crumbs = $_SESSION['breadcrumb'];      }        }   function add($label, $url, $level){      $crumb = array();      $crumb['label'] = $label;      $crumb['url'] = $url;      if ($crumb['label'] != null && $crumb['url'] != null && isset($level)){                            while(count($this->crumbs) > $level){            array_pop($this->crumbs); //prune until we reach the $level we've allocated to this page         }         if (!isset($this->crumbs[0]) && $level > 0){ //If there's no session data yet, assume a homepage link            $this->crumbs[0]['url'] = "/index.php";            $this->crumbs[0]['label'] = "CMS後台管理系統";         }         $this->crumbs[$level] = $crumb;                       }        $_SESSION['breadcrumb'] = $this->crumbs; //Persist the data        $this->crumbs[$level]['url'] = null; //Ditch the underlying url for the current page.   }   function output(){		$array_size = count($this->crumbs);		$count = 1;      echo "現在位置：";		//print_r($this->crumbs);      foreach ($this->crumbs as $crumb){  		         if ($count < $array_size){			if($count == 1)				echo "<a href='".$crumb['url']."' title='".$crumb['label']."'>".$crumb['label']."</a>";			else				echo " > <a href='".$crumb['url']."' title='".$crumb['label']."'>".$crumb['label']."</a>";         } else {            echo " > <b>".$crumb['label']."</b> ";         }		 $count++;      }   }}?> 